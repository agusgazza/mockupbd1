<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DRIVEAR • Calificación del chofer</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --orange:#FF7A00;
      --yellow:#FFD54F;
      --bg:#0b0f1a;
      --card:#101725;
      --ring:rgba(255,138,0,.35);
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,sans-serif;color:#E5E7EB;background:linear-gradient(180deg,#0b0f1a 0%, #0e1424 100%);}
    .container{width:min(900px,92vw);margin:auto;padding:2rem 0;text-align:center}
    header{position:sticky;top:0;background:rgba(11,15,26,.7);border-bottom:1px solid rgba(255,255,255,.08);backdrop-filter:blur(12px);}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:1rem 0}
    .brand{display:flex;align-items:center;gap:.6rem;text-decoration:none;color:#fff;font-weight:800}
    .logo{width:34px;height:34px;border-radius:10px;background:conic-gradient(from 220deg at 50% 50%, var(--yellow), var(--orange), var(--yellow));box-shadow:0 6px 20px rgba(255,213,79,.35)}
    .card{background:linear-gradient(180deg,rgba(255,122,0,.08),rgba(255,213,79,.05));border:1px solid rgba(255,255,255,.08);border-radius:18px;padding:2rem;margin-top:2rem}
    h1{font-size:2rem;font-weight:800;margin-bottom:.4rem}
    p{color:#cbd5e1;margin:0 0 1rem}
    .stars{display:flex;justify-content:center;gap:.3rem;margin:1rem 0;position:relative;font-size:2.4rem;cursor:pointer;}
    .star{color:#333;transition:color .2s}
    .filled{color:var(--orange)}
    textarea{width:100%;max-width:600px;height:100px;margin-top:1rem;padding:1rem;border-radius:12px;border:1px solid rgba(255,255,255,.08);background:#0f1526;color:#e5e7eb;outline:none;transition:border .2s,box-shadow .2s;font-family:Inter,sans-serif;resize:none;}
    textarea:focus{border-color:var(--orange);box-shadow:0 0 0 6px var(--ring)}
    .btn{margin-top:1.2rem;display:inline-flex;align-items:center;gap:.6rem;padding:.9rem 1.2rem;border-radius:14px;font-weight:700;letter-spacing:.2px;border:1px solid transparent;box-shadow:0 10px 30px rgba(255,122,0,.25);transition:.2s;cursor:pointer}
    .btn-primary{background:linear-gradient(135deg,var(--orange),var(--yellow));color:#111827}
    .btn-primary:hover{transform:translateY(-2px)}
    .thanks{font-size:1.4rem;color:var(--yellow);font-weight:700;margin-top:1.5rem;display:none;}
    footer{margin:2rem 0;text-align:center;color:#94a3b8}
  </style>
</head>
<body>
  <header>
    <nav class="container nav">
      <a href="index.html" class="brand">
        <span class="logo"></span>
        DRIVE<span style="color:var(--yellow)">AR</span>
      </a>
      <div style="display:flex;gap:1rem">
        <a href="index.html">Inicio</a>
        <a href="register.html">Registro</a>
      </div>
    </nav>
  </header>

  <main class="container">
    <div class="card">
      <h1>¿Cómo fue tu experiencia?</h1>
      <p>Calificá a <b>Juan Pérez</b>, tu chofer, y contanos cómo fue el viaje.</p>

      <!-- Estrellas -->
      <div class="stars" id="stars" aria-label="Calificación por estrellas"></div>
      <p id="scoreText">Puntaje: 0</p>

      <!-- Comentario -->
      <textarea id="comentario" placeholder="Agregá un comentario (opcional)"></textarea>

      <div>
        <button class="btn btn-primary" id="enviar">Enviar calificación</button>
      </div>

      <div class="thanks" id="thanks">✨ ¡Gracias por tu calificación!</div>
    </div>
  </main>

  <footer>© 2025 DRIVEAR • Calificación del chofer (demo)</footer>

  <script>
    const starContainer = document.getElementById('stars');
    const scoreText = document.getElementById('scoreText');
    const thanks = document.getElementById('thanks');
    const maxStars = 5;
    let rating = 0;

    // Generar estrellas con relleno progresivo de 0.5
    const createStars = () => {
      starContainer.innerHTML = '';
      for (let i = 1; i <= maxStars * 2; i++) {
        const star = document.createElement('span');
        star.innerHTML = '&#9733;';
        star.dataset.value = i / 2;
        star.classList.add('star');
        if (i <= rating * 2) star.classList.add('filled');
        starContainer.appendChild(star);
      }
    };

    createStars();

    // Hover dinámico
    starContainer.addEventListener('mousemove', (e) => {
      if (e.target.classList.contains('star')) {
        const val = parseFloat(e.target.dataset.value);
        document.querySelectorAll('.star').forEach(st => {
          st.classList.toggle('filled', parseFloat(st.dataset.value) <= val);
        });
        scoreText.textContent = `Puntaje: ${val.toFixed(1)}`;
      }
    });

    // Click fija el valor
    starContainer.addEventListener('click', (e) => {
      if (e.target.classList.contains('star')) {
        rating = parseFloat(e.target.dataset.value);
        scoreText.textContent = `Puntaje: ${rating.toFixed(1)}`;
        createStars();
      }
    });

    // Reset visual al salir del área
    starContainer.addEventListener('mouseleave', () => {
      createStars();
      scoreText.textContent = `Puntaje: ${rating.toFixed(1)}`;
    });

    // Enviar feedback
    document.getElementById('enviar').addEventListener('click', () => {
      if (rating === 0) {
        alert('Por favor seleccioná una calificación.');
        return;
      }
      thanks.style.display = 'block';
      setTimeout(() => {
        alert(`✅ Calificación enviada: ${rating.toFixed(1)} estrellas`);
      }, 500);
    });
  </script>
</body>
</html>
